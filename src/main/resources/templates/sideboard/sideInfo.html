<div xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org"
	layout:decorate="@{/layout/member/mainTemplate.html}"
	layout:fragment="content">
	<!-- header tab -->
	<div class="publishingStatus">
		<hr id="tae-hr">
			<th:block th:if="${sideInfo.publishingStatus} == 'Q001'">	
				<a id="a-1" href="/sideProjectList/Q001">ëª¨ì§‘ì¤‘</a><span>
				<a id="a-2" href="/sideProjectList/Q002">í˜‘ì—…ì¤‘</a>
				</span>
			</th:block>
			<th:block th:unless="${sideInfo.publishingStatus} == 'Q001'">	
				<a id="a-1" href="/sideProjectList/Q001">ëª¨ì§‘ì¤‘</a><span>
				<a id="a-2" href="/sideProjectList/Q002">í˜‘ì—…ì¤‘</a>
				</span>
			</th:block>
		<hr id="tae-hr">	
	</div>
	<!-- contents -->
	<div class="conetents">
				<th:block th:if="${sideInfo.publishingStatus} == 'Q001'" >
				<h6 class="tae-side-h6-1">ëª¨ì§‘ì¤‘</h6>
				</th:block>
				<th:block th:unless="${sideInfo.publishingStatus} == 'Q001'" >
				<h6 class="tae-side-h6-2">í˜‘ì—…ì¤‘</h6>
				</th:block>
					<h5 style="font-weight:bolder;">[[ ${sideInfo.title }]]</h5>
					<br>
					<p style="font-weight:bold;">[[${sideInfo.projectOutline}]]</p>
					<br>
					<p style="color:#979da9;float:left;">ê¸°ê°„ | [[${sideInfo.devPeriod}]]ì¼  ëª¨ì§‘ì¸ì› [[${sideInfo.recruitPersonnel}]]ëª…</p>
				    <span>
					<p style="color:#979da9;margin-top:-10px;float:right;">ì¡°íšŒìˆ˜ [[ ${sideInfo.viewCnt} ]]íšŒ  ëŒ“ê¸€ìˆ˜ [[ ${sideInfo.replyCnt} ]]ê°œ</p></span> 
					<br>
					<th:block>
						<div class="tae-side-btn1" style="margin-top:20px;">
							<th:block th:if="|${isCheckMember} == 1 and ${status} == 'Q001'|">
								<div class="d-grid gap-2 d-md-flex justify-content-md-end">
								  	<button class="btn text-white" id="modifyCentent" type="button" style="background-color:#e0e0e7;color:#3e6ce3;">ê¸€ìˆ˜ì •</button>
								  	<button class="btn btn-primary" id="changeStatusButton" type="button" style="background-color:#0C5FEC;">í˜‘ì—…ì‹œì‘</button>
								</div>
							</th:block>
						</div>
					</th:block>
				<hr id="tae-hr">
				<div class="container" id="tae-container-5">
				<h5 style="font-weight:bold;">í”„ë¡œê·¸ë¨ ì†Œê°œ</h5>
				<p style="font-weight:bold;">[[${sideInfo.content}]]</p>
				</div>	
	</div>
	<div class="tae-reply mb-3">
		<p style="font-weight:bold;">ì‘ì„±ì ê¹ƒ ë³´ëŸ¬ê°€ê¸° ğŸ’» <a class="tae-gitaddress" th:href="@{sideInfo.gitAddress}"> [[${sideInfo.gitAddress}]]</a></p>
	  <label for="exampleFormControlTextarea1" class="form-label">ëŒ“ê¸€ [[${sideInfo.replyCnt}]]</label>
	  <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" th:placeholder="|ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”|"></textarea>
	  <button class="btn btn-primary" id="tae-insertReply" type="button">ëŒ“ê¸€ë“±ë¡</button>
	</div>
		
	
	
	
	
</div>
<script type="text/javascript" th:inline="javascript">

let csrfPara = $('meta[name="csrfPara"]').attr("content");
let csrfToken = $('meta[name="csrf"]').attr("content");

const status = 'Q002';
const bno = [[${sideInfo.sideBoardNo}]];

 $(document).ready(function() {
	$('#changeStatusButton').click(function() {
		console.log(status);
		console.log(bno);
		
		//í˜‘ì—…ì‹œì‘
		let obj = {		
				  status : status,
				  bno : bno
				   }
		obj[csrfPara] = csrfToken;
		$.ajax('/updateStatus',{
			type: "POST",
			data: obj
			}).done(result =>{
				console.log(result);
				showSuccessAlert("í˜‘ì—…ì‹œì‘ìœ¼ë¡œ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
				window.location.reload();
		}).fail(err => console.log(err));
	})
});

//ê²Œì‹œê¸€ ì‘ì„±


</script>